<div class="playing mdl-grid" *ngIf="selectedVideo">
    <div class="mdl-layout-spacer"></div>

    <div class="playing mdl-cell mdl-cell--4-col mdl-cell--2-col-phone">
        <div class="playing playing-title-container">
            <a class="playing-title-image" (mouseenter)="toggleImgIcon()" (mouseleave)="toggleImgIcon(true)">
                <div *ngIf="player" (click)="togglePlayerFrame()">
                    <img src="{{selectedVideo.snippet.thumbnails.default.url}}" alt="{{selectedVideo.snippet.title}}" />
                    <span [ngClass]="{'visible': imageIconVisible, 'player-image-icon': true}">
                        <i class="material-icons md-light">featured_video</i>
                    </span>
                </div>
                <div *ngIf="!player" (click)="resumeVideo()">
                    <img src="{{selectedVideo.snippet.thumbnails.default.url}}" alt="{{selectedVideo.snippet.title}}" />
                    <span [ngClass]="{'visible': imageIconVisible, 'player-image-icon': true}">
                        <i class="material-icons md-light">play_arrow</i>
                    </span>
                </div>
            </a>

            <div class="playing-title-text">
                <div class="playing-title-placeholder mdl-cell--hide-phone">
                    <span>Discogs release:
                      <a [routerLink]="['/detail', selectedVideo.discogsId]">
                        {{selectedVideo.discogsTitle || '...'}}
                      </a>
                    </span>
                </div>

                <div class="playing-title-video mdl-cell--hide-phone">
                    <a title="{{selectedVideo.snippet.title}}" class="video-link">{{selectedVideo.snippet.title}}</a>
                </div>
            </div>
        </div>
    </div>

    <div class="mdl-layout-spacer"></div>

    <div class="mdl-cell mdl-cell--6-col mdl-cell--4-col-tablet mdl-cell--2-col-phone player-controls">
        <div class="player-transport">
            <button title="Skip Previous" class="player-control mdl-button mdl-js-button mdl-button--icon" (click)="skipPrev()"><i class="material-icons">skip_previous</i></button>
            <button title="Pause" *ngIf="playing" class="player-control mdl-button mdl-js-button mdl-button--icon" (click)="pauseVideo()"><i class="material-icons">pause_circle_outline</i></button>
            <button title="Play" *ngIf="selectedVideo && !playing" class="player-control mdl-button mdl-js-button mdl-button--icon" (click)="resumeVideo()"><i class="material-icons">play_circle_outline</i></button>
            <button title="Skip Next" class="player-control mdl-button mdl-js-button mdl-button--icon" (click)="skipNext()"><i class="material-icons">skip_next</i></button>
            <span class="volume-wrapper">
                <span class="volume-icon-wrapper">
                    <button title="Volume" class="player-control mdl-button mdl-js-button mdl-button--icon" (click)="toggleVolume()" (mouseenter)="toggleVolumeVisibility()" (mouseleave)="toggleVolumeVisibility(true)">
                        <i *ngIf="volume !== 0" class="material-icons md-18">volume_up</i>
                        <i *ngIf="volume === 0" class="material-icons md-18">volume_off</i>
                    </button>
                </span>

            <span [ngClass]="{'visible': volumeVisible, 'volume-slider': true}" (mouseenter)="toggleVolumeVisibility()" (mouseleave)="toggleVolumeVisibility(true)">
                    <mdl-slider [min]="0" [max]="100" [step]="1" #src (change)="changeVolume(src.value)" (input)="inputVolume(src.value)"></mdl-slider>
                    <span class="volume-label">{{volume}}</span>
            </span>
            </span>
        </div>
        
        <div class="mdl-grid video-duration-wrapper mdl-cell--hide-phone">
            <div class="mdl-cell--1-col mdl-cell--hide-tablet video-duration" *ngIf="!currentTime">0:00</div>
            <div class="mdl-cell--1-col mdl-cell--hide-tablet video-duration" *ngIf="currentTime">{{currentTime | async}}</div>

            <div class="mdl-cell--10-col video-duration mdl-cell--hide-phone">
                <mdl-slider [min]="0" [max]="currentDurationSeconds" [step]="1" #time (change)="seekTo(time.value)"></mdl-slider>
            </div>

            <div class="mdl-cell--1-col mdl-cell--hide-tablet video-duration">{{selectedVideo.contentDetails.duration | formatDuration}}</div>
        </div>
    </div>

    <div class="mdl-layout-spacer"></div>
</div>

<div [ngClass]="{'visible': playerFrameVisible, 'player-frame': true}">
    <span id="player"></span>
</div>